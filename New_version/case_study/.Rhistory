knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = "D:/tesi2/dati")
source("OMERF_new.R")
source("ord_class_index.R")
source('index.R')
studenti <- read.csv("new_studenti.csv", sep = ";", dec = ",")
studenti$DataNascita=as.factor(studenti$DataNascita)
studenti$Sesso=as.factor(studenti$Sesso)
studenti$Cittadinanza_bin=as.factor(studenti$Cittadinanza_bin)
studenti$PEI=as.factor(studenti$PEI)
studenti$PDB=as.factor(studenti$PDB)
studenti$StatusFinale_bin_prec=as.factor(studenti$StatusFinale_bin_prec)
studenti$debito_prec=as.factor(studenti$debito_prec)
source("OMERF_new.R")
source("ord_class_index.R")
source('index.R')
studenti <- read.csv("new_studenti.csv", sep = ";", dec = ",")
studenti$DataNascita=as.factor(studenti$DataNascita)
studenti$Sesso=as.factor(studenti$Sesso)
studenti$Cittadinanza_bin=as.factor(studenti$Cittadinanza_bin)
studenti$PEI=as.factor(studenti$PEI)
studenti$PDB=as.factor(studenti$PDB)
studenti$StatusFinale_bin_prec=as.factor(studenti$StatusFinale_bin_prec)
#studenti$mate_primo_quad=as.factor(studenti$mate_primo_quad)
#possible responses
studenti$voto_ultima_sett=as.factor(studenti$voto_ultima_sett)
source("OMERF_new.R")
source("ord_class_index.R")
source('index.R')
studenti <- read.csv("new_studenti.csv", sep = ";", dec = ",")
studenti$DataNascita=as.factor(studenti$DataNascita)
studenti$Sesso=as.factor(studenti$Sesso)
studenti$Cittadinanza_bin=as.factor(studenti$Cittadinanza_bin)
studenti$PEI=as.factor(studenti$PEI)
studenti$PDB=as.factor(studenti$PDB)
studenti$StatusFinale_bin_prec=as.factor(studenti$StatusFinale_bin_prec)
#studenti$mate_primo_quad=as.factor(studenti$mate_primo_quad)
#possible responses
studenti$rischio=as.factor(studenti$rischio)
studenti$Matematica_finale=as.factor(studenti$Matematica_finale)
#possible random effects
studenti$Settore=as.factor(studenti$Settore)
studenti$Classe=as.factor(studenti$Classe)
set.seed(1999)
library(caret)
split_indices <- createDataPartition(studenti$Matematica_finale, p = 0.80, list = FALSE)
data_test_orig <- studenti[-split_indices, ]
# 'DataNascita','Sesso','PEI','PDB','StatusFinale_bin_prec','perc_doc_ruolo','MediaFinale_prec','Matematica_finale_prec','mate_primo_quad',
# 'assenze_perc21','assenze_perc41','assenze21','note_merito21','note_impegno21','note_disciplinari21','ritardi21','varianza21','varianza1718','debito_prec','debito_mate_prec'
data_test <- data_test_orig[,c('DataNascita','Cittadinanza_bin','Sesso','PDB','perc_doc_ruolo','mate_primo_quad','assenze_perc21','note_merito21','note_disciplinari21','note_impegno21','ritardi21','varianza21','Matematica_finale_prec')]
names(data_test) = c("regular","nationality","gender","PDB","tenured_teachers","first_term_math","absence","merit_notes","disciplinary_notes","commitment_notes","delays","variance","previous_math")
studenti <- studenti[split_indices, ]
table(studenti$Matematica_finale)
y_test_orig=data_test_orig$Matematica_finale
y=studenti$Matematica_finale
cov=studenti[,c('DataNascita','Cittadinanza_bin','Sesso','PDB','perc_doc_ruolo','mate_primo_quad','assenze_perc21','note_merito21','note_disciplinari21','note_impegno21','ritardi21','varianza21','Matematica_finale_prec')]
names(cov) = c("regular","nationality","gender","PDB","tenured_teachers","first_term_math","absence","merit_notes","disciplinary_notes","commitment_notes","delays","variance","previous_math")
group=studenti$Classe
